# Юзер-Бот, що автоматизує репортування Телеграм каналів пропагандистів

Цей Телеграм Юзер-Бот використовується для автоматизації репорту пропагандистьских каналів.



## Інсталяція та використання
### Спосіб 1. Повноцінне викорістання із локальною базою
1. По-перше, вам необхідно інсталювати Python3. Python можна завантажити за [посиланням](https://www.python.org/).
2. Завантажуємо MongoDB. [посилання](https://www.mongodb.com/try/download/community?tck=docs_server)
3. 
    - Завантажуємо  [https://github.com/Antcating/telegram_report_bot_ua/archive/refs/heads/main.zip](https://github.com/Antcating/telegram_report_bot_ua/archive/refs/heads/main.zip)
    -Розархівовуємо і переходимо в папку

    або виконуємо наступні команди з консолі:
    ```
    git clone https://github.com/Antcating/telegram_report_bot_ua
    cd telegram_report_bot_ua
    pip install -r requirements.txt
    ```


4. Копіюємо і перейменовуємо `./example.env` на `./env`
5. Підставляємо в `./.env` свої `API_ID` та `API_HASH`
6. Далі запускаємо бота з консолі:`python main.py`
7. за запитом Telethon по черзі вводимо:
- Телефон вашого аккаунта у форматі +380ххххххххх
- Код автентифікації який прийде повідомленням у телеграм
8. Бот автоматично створить базу(MongoDB) і виставить пріорітети на кожен канал із файлу `telegram_db`, за замовчуванням 1. Після запуску буде брати щоразу канал, який використовувався найпізніше також візьме до уваги пріоритет із файлу.
9. Переходимо за посиланням https://my.telegram.org/, вводимо свій номер телефону та код авторизації
   <br>Переходимо у вкладку `API development tools`, пишемо любий `App title` та `Short name`
   <br>Нагорі отримуємо App `API_ID` та App `API_HASH`
   <br>**ПЕРЕДАВАТИ КОМУСЬ `API_ID` та `API_HASH` НІ В ЯКОМУ РАЗІ НЕ МОЖНА!!! Вони дают можливіть контролювати вашу персональну сторінку у Телеграмі.**

### Спосіб 2.1 (лайт мод) Запуск із докеру | (обмежений функціонал) 
Так як докер ранить локальну бд, то кожен запуск контейнеру буде з пустою дб, тобто можливі подвійні проходи, чого не буде у  використанні через спосіб 1
1. Переходимо за посиланням https://my.telegram.org/, вводимо свій номер телефону та кодавторизації
<br>Переходимо у вкладку `API development tools`, пишемо любий `App title` та `Short name`
<br>Нагорі отримуємо App `API_ID` та App `API_HASH`
<br>**ПЕРЕДАВАТИ КОМУСЬ `API_ID` та `API_HASH` НІ В ЯКОМУ РАЗІ НЕ МОЖНА!!! Вони дают можливітьконтролювати вашу персональну сторінку у Телеграмі.**
2. Підставити свої `API_ID` та `API_HASH` в команду нижче

`docker run -it -e API_ID=111111 -e API_HASH=22222222 ndh1/telegram_report_bot_ua`

3. Переходимо за посиланням https://my.telegram.org/, вводимо свій номер телефону та код авторизації
   <br>Переходимо у вкладку `API development tools`, пишемо любий `App title` та `Short name`
   <br>Нагорі отримуємо App `API_ID` та App `API_HASH`
   <br>**ПЕРЕДАВАТИ КОМУСЬ `API_ID` та `API_HASH` НІ В ЯКОМУ РАЗІ НЕ МОЖНА!!! Вони дают можливіть контролювати вашу персональну сторінку у Телеграмі.**

### Спосіб 2.2 (лайт мод) Запуск із докеру  із використаннм .env | (обмежений функціонал)
#### Щоб не дублювати щоразу АПІ данні
 1) Переходимо за посиланням https://my.telegram.org/, вводимо свій номер телефону та кодавторизації
<br>Переходимо у вкладку `API development tools`, пишемо любий `App title` та `Short name`
<br>Нагорі отримуємо App `API_ID` та App `API_HASH`
<br>**ПЕРЕДАВАТИ КОМУСЬ `API_ID` та `API_HASH` НІ В ЯКОМУ РАЗІ НЕ МОЖНА!!! Вони дают можливітьконтролювати вашу персональну сторінку у Телеграмі.**
 2) Cтворюємо файл `.env` із вмістом ваших АПІ ключів 
 ```
 API_ID=1111111111111
 API_HASH=22222222222
 ```
 3) Запускаємо із папки, де знаходиться `.env` або ж корегуємо шлях в скрипті
 `docker run -it --env-file .env ndh1/telegram_report_bot_ua`
 4) за запитом Telethon по черзі вводимо:
 - Телефон вашого аккаунта у форматі +380ххххххххх
 - Код автентифікації який прийде повідомленням у телеграм

<br>**Правильно налаштована програма буде відображати такий результат:**
<br><br>![image](https://user-images.githubusercontent.com/39994538/155859028-e83b5228-e711-4f21-bf4e-db9b1cfccb24.png)

Щоб використати інший аккаунт, треба видалили файл `session_new.session` у папці з програмою (або використати команду `del session_new.session`).

## Формат списку каналів для репорту
    someChannelName|1
    mostDangedChannelName|3
    someOtherChannelName|1
    

## Оновлення боту та бази каналів
Ми намагаємося періодично оновляти самого бота та базу пропагадистських каналів, тому рекомендуємо іноді перевіряти чи не додались нові канали. 
Якщо ви хочете оновити базу та/чи бота вам необхідно: 
1. Зайти у теку проекту
2. Відкрити консоль у цій теці 
3. Вписати команду 
``` 
git pull
```
4. База та бот оновлені, можете як вказано вище запускати бота та відсилати репорти на більшу кількість пропагандистів.


## Безпека телеграм-акаунту

Під час налаштування бота вам буде потрібно вказати одноразовий код на сайті my.telegram.org та у python модулі [telethon](https://github.com/LonamiWebs/Telethon). Перше - це офіційний сайт телеграму, друге - це дуже відомий модуль, код якого був перевірений досвідченими програмістами не один раз. Тож ваш акаунт не передається третім особам на протязі всього процесу налаштування та використання програми.
<br>Також програма емулює поведінку нового пристрою який використовує ваш акаунт. Ви можете побачити цей віртуальний пристрій в активних сеансах телеграму (Налаштування -> Приватність і безпека -> Показати всі сеанси). Він матиме таку ж назву і тип які ви вкажете під час реєстрації на my.telegram.org. _Після виконання програми ви можете видалити цей девайс з активних сеансів._

## Додаткова інформація

У теці проєкту знаходиться файл `telegram_db`, що містить у собі список пропагандистських каналів. Якщо ви маєте інформацію про інші канали, що не війшли у список, але заслуговують репорту - присилайте їх мені у [телеграм](https://www.t.me/Achating) або додавайте їх у реквестах на Github.
```
